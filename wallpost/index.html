<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ... ‡πÉ‡∏™‡πà‡∏û‡∏ß‡∏Å Font ... -->
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center h-screen">

    <!-- Loading (‡πÇ‡∏ä‡∏ß‡πå‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞) -->
    <div id="loading" class="fixed inset-0 bg-gray-900 flex items-center justify-center z-50">
        Loading...
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏° Login -->
    <div id="loginBtn" class="hidden text-center">
        <h1 class="text-4xl mb-8">üîí ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô</h1>
        <button onclick="login()" class="bg-white text-black px-6 py-3 rounded-full font-bold hover:scale-105 transition">
            Login with Google
        </button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

        // ... ‡πÉ‡∏™‡πà Firebase Config ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ...
        const firebaseConfig = {
            apiKey: "AIzaSyAhKMt2-wTBqCUCC4mzHjt8tWxCHBJXC5I",
            authDomain: "student-data-app-1c677.firebaseapp.com",
            projectId: "student-data-app-1c677",
            storageBucket: "student-data-app-1c677.firebasestorage.app",
            messagingSenderId: "575305259038",
            appId: "1:575305259038:web:2ed2df837feb093185f60f",
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // ‡∏ñ‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ wall.html ‡πÄ‡∏•‡∏¢
                window.location.href = "wall.html";
            } else {
                // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô ‡πÉ‡∏´‡πâ‡∏õ‡∏¥‡∏î Loading ‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏ä‡∏ß‡πå‡∏õ‡∏∏‡πà‡∏°
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('loginBtn').classList.remove('hidden');
            }
        });

        window.login = async () => {
            const provider = new GoogleAuthProvider();
            try {
                await signInWithPopup(auth, provider);
                // ‡∏û‡∏≠ Login ‡∏ú‡πà‡∏≤‡∏ô onAuthStateChanged ‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏û‡∏≤‡πÑ‡∏õ wall.html ‡πÄ‡∏≠‡∏á
            } catch (error) {
                alert(error.message);
            }
        }
    </script>
</body>
</html>
